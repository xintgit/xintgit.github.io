<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>js生成html</title>
	</head>
	<body>
		<textarea>Textillate.js实现各种动感十足的文本动画</textarea>
		<input type="button" value="下载js生成html" />
	</body>
	<script>
		var eleTextarea = document.querySelector('textarea');
		var eleButton = document.querySelector('input[type="button"]');
		
		//生成html的内容
		var html ='<html><body><h1>'+eleTextarea.value+'</h1></body></html>';

		// 下载文件方法
		var funDownload = function(content, filename) 
		{
			var eleLink = document.createElement('a');
			eleLink.download = filename;
			eleLink.style.display = 'none';
			// 字符内容转变成blob地址
			var blob = new Blob([content]);
			eleLink.href = URL.createObjectURL(blob);
			// 触发点击
			document.body.appendChild(eleLink);
			eleLink.click();
			// 然后移除
			document.body.removeChild(eleLink);
		};
		
		if('download' in document.createElement('a')) 
		{
			// 作为print.html文件下载
			eleButton.addEventListener('click', function() 
			{
				funDownload(html , 'print.html');
			});
		} 
		else 
		{
			eleButton.onclick = function() 
			{
				alert('浏览器不支持');
			};
		}
</script>
</html>
